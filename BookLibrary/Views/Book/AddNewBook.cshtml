@model BookLibrary.Models.ViewModel.BookModel
@{
    ViewData["Title"] = "AddNewBook";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div id="save">
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
        <h4> <strong>HI!</strong> Successfully created your bOOK</h4>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close" onclick="getCarOwnersusingAjax()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
</div>


@if(ViewBag.success == true)
{
<div id="save" class="alert alert-warning alert-dismissible fade show" role="alert">
    <h4> <strong>HI!</strong> Successfully created your bOOK</h4>
    <button type="button" class="close" data-dismiss="alert" aria-label="Close"  onclick="getCarOwnersusingAjax()">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
}


<div class="container-fluid">
    <h2 class="text-capitalize text-center">Add Books</h2>
    <div class="row bg-light">
           <div class=" bg-light col-md-12">
               <form method="Post" asp-action="AddNewBook" enctype="multipart/form-data" data-ajax="true" data-ajax-complete="myComplete" data-ajax-success="mySuccess">
                  
                   <div class="form-group">
                       <label asp-for="Title" class="control-label"></label>
                       <input asp-for="Title" class="form-control" />
                   </div>


                   <div class="form-group">
                       <label asp-for="Author" class="control-label"></label>
                       <input asp-for="Author" class="form-control" />
                   </div>

                   <div class="form-group">
                       <label asp-for="Description" class="control-label"></label>
                       <input asp-for="Description" class="form-control" />
                   </div>

                   <div class="form-group">
                       <label asp-for="LanguageId" class="control-label"></label>
                       <select asp-for="LanguageId" class="form-control" asp-items=" ViewBag.languages">
                           <option value="">Please select language</option>
                       </select>

                   </div>

                   <div class="form-group">
                       <label asp-for="Category" class="control-label"></label>
                       <input asp-for="Category" class="form-control" />
                   </div>

                   <div class="form-group">
                       <label asp-for="TotalPages" class="control-label"></label>
                       <input asp-for="TotalPages" class="form-control" />
                   </div>

                   <div class="form-group">
                       <label asp-for="price" class="control-label"></label>
                       <input asp-for="price" class="form-control" />
                   </div>

                   <div class="form-group">
                       <label asp-for="CoverPhoto" class="control-label"></label>
                       <div class="custom-file">
                           <input asp-for="CoverPhoto" class="custom-file-input" id="customFile" />
                           <label class="custom-file-label" for="customFile">choose file</label>
                       </div>
                   </div>


                   <div class="form-group">
                       <label asp-for="GalleryFiles" class="control-label"></label>
                       <div class="custom-file">
                           <input asp-for="GalleryFiles" class="custom-file-input" id="customFile" />
                           <label class="custom-file-label" for="customFile">choose file</label>
                       </div>
                   </div>

                   <div class="form-group">
                     
                       <div class="custom-file">
                           <button type="submit" class="btn btn-success">SUBMIT</button>
                       </div>
                   </div>
                   
               </form>
           </div>
        </div>
    </div>
@section scripts {
    <script>
        $(document).ready(function () {
            $('div#save').hide();
        });
        function myComplete() {
            alert('completed');
            $('input#Title').val(""); 
            $('input#Author').val(""); 
            $('input#Description').val("");
            $('input#Category').val(""); 
            $('input#TotalPages').val("");
            $('input#price').val("");

        }

        function getCarOwnersusingAjax() {
            $('div#save').hide();
        }
        function mySuccess() {
            alert('Saved');
            $('div#save').show();
        }
    </script>


}